<!DOCTYPE html>
<html lang="ru">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>ZarBook - Редактор книг-игр</title>
	<link href="data:image/x-icon;base64,AAABAAEAEBAAAAAAAABoBQAAFgAAACgAAAAQAAAAIAAAAAEACAAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAAAAg4GAAGxubAB/fXsAg354APn5+QBkXVIAjo6NAGBcVQCVmJoAioqIAF1YUABQSUEAeXd0AOjo6ADZ2dkAjIyLAKempABWXmEAysrKAJmXlQBnamgAeHVyAIqKiQB0cW0AVVBHAIeDfACUkY4AY15ZAKempQCMkpQAgn56AHJvawCAfX0AWFJKAG9rZgCGhIIAgYB9AH18eABhWU8AeHJrAFpUTQCenJkAhIKAAFJMQwBpZV8AioiIAFhSSwBva2cAdnV0AGtnYgBQSkEAa2RaAO3t7QCgoJ8AoqCfAN7e3gCIhoYAz8/PAISCgQBSTEQAgHt0AH16dwBLRDoAZ2BWAE1GPQB7eHUATkY9AGBbVACbmJYAfnt1AIF+fQCcnp4A9vb2AHx3cACLi4oAXVlSAHVvZgCUko8AkY6KAElCOQB3dHEAiYmIAKWjoQCOioUAgYqOAIaFgwB6d3EAZnZ9AFRPRgBiXVgAfX15APLy8gB0cm8Ab32CAOPj4wDU1NQAWlVOAHFuagDFxcUAhoR+AHl4dwBeZGYAcWtiAJ+dmgBpZmAAqaenAKWjogCKhoEAcXJwAGJdWQBsaGMAj4yJAIqIhACioaAAeISIAMHBwQBuZ14AZmJcAJiVkQCfn54AS0U7AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASbkQLKSJZLAxBPwAAAABmWFcoTWd1NEAGJ0F5UAAAFV5GSihNZ3U0QAYMdHkAAAJzHz1KKE1ndTRALGNDAABtVWQEPUooTWd1NFkTMwAAMR5xGgQ9SihNZ3UiOjwAAGUJcGwaBD1KKE1nKWAZAABbSE5UbBoEPUooTQsPLwAAIXIUT1RsGgQ9SihEOGEAACtraBtPVGwaBD1KWl9MAABWETd3G09UbBoEPXYOCAAALh1TRXcbT1RsGgQtNRwAAFJqHSpFdxtPVGwaMlx2AAAQF0s7JQM+DVEYYiNJaQAANgcFBQUFBQUFBQUFBW8AAAB4EAo5JAFHJkIWXSAwAMAHAACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAMABAAA=" rel="icon" type="image/x-icon" />
	<link href="css/animate.css" rel="stylesheet" />
	<link href="css/bootstrap.min.css" rel="stylesheet">
	<link href="css/bootstrap-theme.min.css" rel="stylesheet">
	<link href="css/vis.min.css" rel="stylesheet">
	<link href="css/font-awesome.min.css" rel="stylesheet">
	<link href="css/awesome-bootstrap-checkbox.css" rel="stylesheet">

	<link href="css/zarBook.css" rel="stylesheet">
	
	
	<script src="js/FileSaver.min.js" type="text/javascript"></script>
	<script src="js/vis.min.js" type="text/javascript"></script>
	
	<script src="js/jquery-2.1.4.min.js" type="text/javascript"></script>
	<script src="js/jquery.markitup.js" type="text/javascript"></script>
	<script src="js/bootstrap.min.js" type="text/javascript"></script>
	<script src="js/jquery.json.js" type="text/javascript"></script>
	<script src="js/xbbcode.js" type="text/javascript"></script>
	<script src="js/noty/packaged/jquery.noty.packaged.min.js"  type="text/javascript"></script>
	
	<script src="js/zarBookEditor.js" type="text/javascript"></script>
	<script src="js/zarBookEditorOnload.js" type="text/javascript"></script>
	<script src="js/zarBookPlay.js" type="text/javascript"></script>
</head>
<body>
	<div id="canvas"></div>

<nav class="navbar navbar-new navbar-fixed-top">
  <div class="container-fluid">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="#">ZarBook</a>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
	<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
		<ul class="nav navbar-nav">
			<!-- new node link -->
			<li class="zbeIniShow" style="display:none">
				<a href="#" id="zbeNodeAddLink">
					<i class="fa fa-plus"></i>&nbsp;
					Новый Параграф
				</a>
			</li>
			
			<!--node dropdown-->
			<li id="zbeNodeDropdown" class="dropdown" style="display:none">
				<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
					<i class="fa fa-paragraph"></i>&nbsp;
					<span id="zbeNodeDropdownName"></span>&nbsp;
					<span class="caret"></span>
				</a>
				<ul class="dropdown-menu">
					<li>
						<a href="#" data-toggle="modal" data-target="#zbeModalNodeEdit">
							<i class="fa fa-pencil"></i>&nbsp;
							Редактировать
						</a>
					</li>
					<li><a href="#" class="zbeNodeDataNumber" id="zbeNodeAddChildrenLink">
							<i class="fa fa-plus"></i>&nbsp;
							Создать потомка
						</a>
					</li>
					<li>
						<a href="#" class="zbeNodeDataNumber" id="zbeNodeAddParentLink">
							<i class="fa fa-plus"></i>&nbsp;
							Создать предка
						</a>
					</li>
					<li>
						<a href="#" id="zbeNodePhysicsLink" class="zbeNodeDataNumber" data-str-on="<i class='fa fa-globe'></i>&nbsp;&nbsp;Включить физику" data-str-off="<i class='fa fa-globe'></i>&nbsp;&nbsp;Выключить физику"></a>
					</li>
					<li id="zbeNodeDropdownDeleteLink">
						<a href="#" data-toggle="modal" data-target="#zbeModalNodeRemove">
							<i class="fa fa-trash-o"></i>&nbsp;
							Удалить
						</a>
					</li>
				</ul>
			</li>
			
			<!--edge link-->
			<li id="zbeEdgeLink" style="display:none">
				<a href="#" data-toggle="modal" data-target="#zbeModalEdgesLabel">
					<i class="fa fa-pencil"></i>&nbsp;
					<span id="zbeEdgeLinkTitle"></span> 
					<span class="zbeEdgeNumber"></span> 
				</a>
			</li>
		</ul>

		<!-- right -->		
		<ul id="zbeEdgeLink" class="nav navbar-nav navbar-right zbeIniShow"  style="display:none">
			<li class="dropdown">
				<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
					Действия&nbsp;
					<span class="caret"></span>
				</a>
          		<ul class="dropdown-menu">
					<li>
						<a data-toggle="modal" data-target="#zbeModalBookPlay" href="#">
							<i class="fa fa-play-circle-o"></i>&nbsp;
							Играть КНИ
						</a>
					</li>
					<li><a id="zbeSetBtn1" href="#" style="display:none">Экспорт КНИ</a></li>
					<li role="separator" class="divider"></li>
					<li>
						<a data-toggle="modal" data-target="#zbeModalBookSetting" href="#">
							<i class="fa fa-cog"></i>&nbsp;
							Настройки КНИ
						</a>
					</li>
					<li>
						<a id="zbeSaveBtn" class="zbeIniShow" href="#">
							<i class="fa fa-download"></i>&nbsp;
							Сохранить КНИ
						</a>
					</li>
					<li>
						<a id="zbeBookNewLink" class="zbeIniShow" href="#">
							<i class="fa fa-book"></i>&nbsp;
							Новая КНИ
						</a>
					</li>
				</ul>
			</li>
			
			<!-- git link -->
			<li>
				<a href="https://github.com/nazarpunk/ZarBook" target="_blank">
					<i class="fa fa-github"></i>
				</a>
			</li>
		</ul>
		

	</div><!-- /.navbar-collapse -->
</div><!-- /.container-fluid -->
</nav>

<div id="zbManager" class="container">
	<div class="jumbotron">
		<div class="container">
			<h1 class="text-center">Хотите создать КНИ?</h1>
			<div class="row">
				<div class="col-lg-12">
					<form id="zbCreateBookFrm">
					<div class="input-group input-group-lg">
						
						<input type="text" class="form-control" placeholder="Просто введите название">
						<span class="input-group-btn">
							<button class="btn btn-default" type="submit">
								<i class="fa fa-book"></i>&nbsp;
								Создать КНИ
							</button>
						</span>
					</div>
					</form>
				</div>
			</div>
			<div class="row">
				<div class="col-lg-12">
					<form id="zbeBookUploadForm">
						<input id="zbeBookUploadFormInputFile" type="file" style="visibility:hidden;" />
						<div class="form-group">
							<label for="zbeBookUploadFormInputText">Или же хотите продолжить редактирование?</label>
							<div class="input-group input-group-lg">
								<div class="input-group-btn">
									<button type="button" class="btn btn-default" onclick="$('#zbeBookUploadFormInputFile').click();">
										<i class="fa fa-file-o"></i>&nbsp;
										Выбрать файл
									</button>
								</div>
								<input id="zbeBookUploadFormInputText" type="text" class="form-control" placeholder="*.zb" readonly="readonly" onclick="$('#zbeBookUploadFormInputFile').click();">
								<div class="input-group-btn">
									<button type="submit" class="btn btn-default">
										<i class="fa fa-upload"></i>&nbsp;
										Загрузить КНИ
									</button>
								</div>
							</div>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
</div>

<!-- modal book play -->
<div class="modal fade" id="zbeModalBookPlay" tabindex="-1" role="dialog" aria-labelledby="zbeModalBookPlayHeader">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
				<h4 class="modal-title" id="zbeModalBookPlayHeader"></h4>
			</div>
			<div id="zbeModalBookPlayBody" class="modal-body"></div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					<i class="fa fa-times"></i>&nbsp;
					Закрыть
   			</div>
    	</div>
	</div>
</div>


<!-- modal book setting -->
<div class="modal fade" id="zbeModalBookSetting" tabindex="-1" role="dialog" aria-labelledby="zbeModalBookSettingLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="zbeModalBookSettingLabel">Настройки КНИ</h4>
      </div>
		<form id="zbeModalBookSettingForm">
			<div class="modal-body">
				 <div class="form-group">
					<label for="zbeModalBookSettingNameInput">Название</label>
					<input type="text" class="form-control" id="zbeModalBookSettingNameInput" placeholder="Название">
  				</div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">Отмена</button>
				<button type="submit" class="btn btn-primary">Сохранить</button>
			</div>
		</form>
    </div>
  </div>
</div>

<!-- Modal edges label -->
<div class="modal fade" id="zbeModalEdgesLabel" tabindex="-1" role="dialog" aria-labelledby="zbeModalEdgesLabelLabel">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
				<h4 class="modal-title" id="zbeModalEdgesLabelLabel">Подписать ребро</h4>
			</div>
			<form id="zbeModalEdgesLabelForm">
				<div id="zbeModalEdgesLabelBody" class="modal-body"></div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">Отмена</button>
					<button type="submit" class="btn btn-primary zbeEdgesDataNumbers">Сохранить</button>
      			</div>
			</form>
    	</div>
	</div>
</div>

<!-- modal node edit -->
<div id="zbeModalNodeEdit" class="modal fade zbeNodeDataNumber" tabindex="-1" role="dialog" aria-labelledby="zbeModalNodeEditLabel">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
				<h4 class="modal-title" id="zbeModalNodeEditLabel"></h4>
			</div>
			<form id="zbeModalNodeEditForm" class="zbeNodeDataNumber">
				<div class="modal-body">
					<div id="zbeModalNodeEditPreviev" class="form-group"></div>
					<div class="form-group">
						<input id="zbeModalNodeEditLabelInput" type="text" class="form-control" autocomplete="off" placeholder="Подпись">
					</div>

					<textarea id="zbeModalNodeEditArea"></textarea>
					
					<div class="checkbox hide">
						<input type="checkbox" id="zbeModalNodeEditEndBox">
						<label for="zbeModalNodeEditEndBox">Этот параграф заканчивает книгу</label>
					</div>
					
				</div>
				<div class="modal-footer">
					<button type="submit" value="preview" class="btn btn-success pull-left">
						<i class="fa fa-book"></i>&nbsp;
						Предосмотр
					</button>
					<button type="button" class="btn btn-default" data-dismiss="modal">
						<i class="fa fa-ban"></i>&nbsp;
						Отмена
					</button>
					<button type="submit" class="btn btn-primary">
						<i class="fa fa-floppy-o"></i>&nbsp;
						Сохранить
					</button>
				</div>
			</form>
		</div>
	</div>
</div>


<!-- Modal node remove -->
<div class="modal fade" id="zbeModalNodeRemove" tabindex="-1" role="dialog" aria-labelledby="zbeModalNodeRemoveLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="zbeModalNodeRemoveLabel"></h4>
      </div>
      <div class="modal-body">
        Вы точно на все сто процентов уверенны?
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Отмена</button>
        <button id="zbeNodeRemoveLink" type="button" class="btn btn-primary zbeNodeDataNumber">Удалить</button>
      </div>
    </div>
  </div>
</div>



<span id="zbeBookName"></span>
</body>
</html>
